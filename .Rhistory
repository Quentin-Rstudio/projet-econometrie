2+2
5-7
4*12
4*42
4*
4*
2
x <-2
x + 4
x
x <- x*2
x
x <- 5
y <- 5
y <- y + y
x + y
x <- "betterave"
x
tailles <- c(156, 164, 197, 147, 173)
tailles
tailles_m <- tailles / 100
tailles_m
poids <- c(45, 59, 110, 44, 88)
imc <- poids/(tailles/100)^2
imc
imc
imc[3]
length(tailles)
ktu <- "emma"
ktu <- "choucroute"
emma <- "avocat"
mipi <- "fenouil"
repas <- c(ktu, emma, mipi)
raps
repas
psg <- 4
barca <- 1
champions_league <- c(psg, barca)
champions_league
ktu <- "toujours à l'heure"
ktu
ktu
setwd("~/Documents/ENS/econometrie/projet_r")
library(tidyverse)
library(ggforce)
library(sf)
library(haven)
library(FactoMineR)
library(ggrepel)
library(stargazer)
library(questionr)
#install.packages("remotes")
#remotes::install_github("easystats/easystats")
library("easystats")
#install.packages("ggraph")
library(ggraph)
base_complete <- read.csv("base_complete.csv") %>%
select(-X) %>%
mutate(code2 = as.character(code2))
ggplot(data = base_complete, mapping = aes(x = sensi_env, y = part_depenses_env)) +
theme_bw() +
geom_point()+
geom_smooth(method = lm) +
labs(x = "Sensibilité moyenne à l'écologie (sensi_env)", y = "Dépenses environnementales en part de PIB")
reg1               <- lm(data = base_complete, formula = part_depenses_env ~ sensi_env)
reg2               <- lm(data = base_complete, formula = part_depenses_env ~ sensi_env + REV_MED_EURO_2017 + EPI.new)
reg3               <- lm(data = base_complete, formula = part_depenses_env ~ sensi_env + EPI.new + REV_MED_EURO_2017 +
EDUC_SUP_2017 + GINI_2017)
reg4               <- lm(data = base_complete, formula = part_depenses_env ~ perc_env + soutien_pol_env + conn_env)
reg1               <- lm(data = base_complete, formula = part_depenses_env ~ sensi_env)
reg2               <- lm(data = base_complete, formula = part_depenses_env ~ sensi_env + REV_MED_EURO_2017 + EPI.new)
reg3               <- lm(data = base_complete, formula = part_depenses_env ~ sensi_env + EPI.new + REV_MED_EURO_2017 +
EDUC_SUP_2017 + GINI_2017)
reg4               <- lm(data = base_complete, formula = part_depenses_env ~ perc_env + soutien_pol_env + conn_env)
stargazer(reg1, reg2, reg3, header = FALSE)
stargazer(base_complete, header = FALSE)
base_exploration <- base_complete %>%
select(-code2)
stargazer(base_exploration, type = 'html', title = "Principaux indicateurs des variables" )
graph1 <- ggplot(base_exploration, mapping = aes(x=sensi_env, y = perc_env)) + geom_point()
graph2 <- ggplot(base_exploration) + geom_label(aes (x = sensi_env, y = perc_env, label = Nom_pays), color = "darkgreen", size = 3, alpha = 0.3)
graph3 <- ggplot(base_exploration, aes (x = conn_env, y = perc_env)) +
geom_point(color = "darkgreen", size = 3, alpha = 0.3) +
geom_smooth (method = "lm", size = 1, lty = 1, se = 2  )
cor3 <- cor(base_exploration$conn_env, base_exploration$perc_env, method= "spearman")
graph4 <- ggplot(base_exploration, aes (x = conn_env, y = soutien_pol_env)) +
geom_point(color = "darkgreen", size = 3, alpha = 0.3) +
geom_smooth (method = "lm", size = 1, lty = 1, se = 2  )
cor4 <- cor(base_exploration$conn_env, base_exploration$soutien_pol_env)
graph5 <- ggplot(base_exploration, aes (x = soutien_pol_env, y = perc_env)) +
geom_point(color = "darkgreen", size = 3, alpha = 0.3) +
geom_smooth (method = "lm", size = 1, lty = 1, se = 2  )
reg5 <- lm(data = base_exploration, formula = part_depenses_env ~ sensi_env + GINI_2017 + EDUC_SUP_2017 + REV_MED_EURO_2017 + EPI.new)
resultats_cor <- correlation(base_exploration)
print(resultats_cor)
summary(resultats_cor, redundant = TRUE)
library(see)
library(dplyr)
library(see)
library(dplyr)
graph_cor <- resultats_cor %>% # à potentiellement remplacer par graph_cor3
summary(redundant = TRUE) %>%
plot()
graph_cor2 <- base_exploration %>%
correlation(partial = TRUE) %>%
plot(main = "Modèle graphique gaussien des corrélations partiales entre les variables")
graph_cor3 <- resultats_cor %>%
summary(redundant = TRUE) %>%
plot(show_values = TRUE, show_p = TRUE, show_legend = TRUE)
report(base_exploration)
print(report(base_exploration))
aov(data = base_exploration, formula = part_depenses_env ~ sensi_env + GINI_2017 + EDUC_SUP_2017 + REV_MED_EURO_2017 + EPI.new) %>%
report()
r2(reg1)
check_model(reg1)
#install.packages("remotes")
#remotes::install_github("easystats/easystats")
remotes::install_github("easystats/qqplotr")
#install.packages("remotes")
#remotes::install_github("easystats/easystats")
install.packages("performance")
install.packages("performance")
library(performance)
#install.packages("remotes")
#remotes::install_github("easystats/easystats")
#install.packages("performance")
library(performance)
check_model(reg1)
#install.packages("remotes")
#remotes::install_github("easystats/easystats")
install.packages("qqplotr")
library(qqplotr)
knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE)
options(encoding = "UTF-8")
## Packages ----
library(tidyverse)
library(ggforce)
library(sf)
library(haven)
library(FactoMineR)
library(ggrepel)
library(stargazer)
library(questionr)
#install.packages("remotes")
#remotes::install_github("easystats/easystats")
#install.packages("qqplotr")
library(qqplotr)
library("easystats")
#install.packages("ggraph")
library(ggraph)
library(dplyr)
library(see)
## Données -----
# setwd("C:/Users/quent/Desktop/ENS Paris-Saclay/1A/1S2/Econométrie/TDs/Bases de données/Documents/projet-econometrie")
# setwd("~/Documents/ENS/econometrie/projet_r")
base_complete <- read.csv("base_complete.csv") %>%
select(-X) %>%
mutate(code2 = as.character(code2))
check_model(reg1)
check_model(reg5)
model_performance(reg5)
test_performance(reg1,reg5)
summary(test_performance(reg1,reg5))
print(test_performance(reg1,reg5))
check_heteroscedasticity(reg5)
variable.names(base_exploration)
knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE)
## Packages ----
library(dplyr)
library(tidyverse)
library(ggforce)
library(sf)
library(haven)
library(FactoMineR)
library(ggrepel)
library(readxl)
library(stargazer)
library(questionr)
#install.packages("remotes")
#remotes::install_github("easystats/easystats")
library("easystats")
#install.packages("ggraph")
library(ggraph)
library(dplyr)
library(see)
## Données -----
#setwd("C:/Users/quent/Desktop/ENS Paris-Saclay/1A/1S2/Econométrie/TDs/Bases de données/Documents")
setwd("~/Documents/ENS/econometrie/projet_r")
base_complete <- read.csv("base_complete.csv") %>%
select(-X)
base_exploration <- base_complete %>%
select(-code2)
graph1 <- ggplot(base_exploration, mapping = aes(x=sensi_env, y = perc_env)) + geom_point()
graph1
variable.names(base_exploration)
?geom_histogram
ggplot(base_exploration) + geom_histogram(aes(x=depenses_brutes_env, y=Pays), binwidth = 3, bins = 5)
ggplot(base_exploration, aes(x=depenses_brutes_env, y=Pays)) + geom_histogram(binwidth = 3, bins = 5)
ggplot(data = base_exploration, mapping = aes(x=depenses_brutes_env, y=Pays)) +
geom_histogram()
ggplot(data = base_exploration, mapping = aes(x=depenses_brutes_env, y=Pays)) +
geom_bar()
rlang::last_error()
graph1 <- ggplot(data = base_exploration,
mapping = aes(y=Noms_pays,
x = part_depenses_env,
fill = part_depenses_env)) +
geom_col()
scale_x_continuous(labels = percent_format())+
scale_fill_continuous(labels=percent_format(accuracy=1))
graph1 <- ggplot(data = base_exploration,
mapping = aes(y=Noms_pays,
x = part_depenses_env,
fill = part_depenses_env)) +
geom_col()
graph1
graph1 <- ggplot(data = base_exploration,
mapping = aes(y=Nom_pays,
x = part_depenses_env,
fill = part_depenses_env)) +
geom_col()
graph1
graph1 <- ggplot(data = base_exploration,
mapping = aes(y=Nom_pays,
x = part_depenses_env,
fill = part_depenses_env,
col = green)) +
geom_col()
graph1
graph1 <- ggplot(data = base_exploration,
mapping = aes(y=Nom_pays,
x = part_depenses_env,
fill = part_depenses_env,
col = "green") +
geom_col()
geom_col()
graph1 <- ggplot(data = base_exploration,
mapping = aes(y=Nom_pays,
x = part_depenses_env,
fill = part_depenses_env,
col = "green") +
geom_col()
graph1
graph1 <- ggplot(data = base_exploration,
mapping = aes(y=Nom_pays,
x = part_depenses_env,
fill = part_depenses_env)) +
geom_col()
graph1 <- ggplot(data = base_exploration,
mapping = aes(y=Nom_pays,
x = part_depenses_env,
fill = part_depenses_env)) +
geom_col() +
scale_x_continuous(labels = percent_rank())+
scale_fill_continuous(labels=percent_rank(accuracy=1))
graph1 <- ggplot(data = base_exploration,
mapping = aes(y=Nom_pays,
x = part_depenses_env,
fill = part_depenses_env)) +
geom_col() +
scale_color_metro(col="green")
graph1 <- ggplot(data = base_exploration,
mapping = aes(y=Nom_pays,
x = part_depenses_env,
fill = part_depenses_env)) +
geom_col() +
scale_color_metro(palette ="green")
?palette
graph1 <- ggplot(data = base_exploration,
mapping = aes(y=Nom_pays,
x = part_depenses_env,
fill = part_depenses_env)) +
geom_col()
graph1
graph1 <- ggplot(data = base_exploration,
mapping = aes(y=Nom_pays,
x = part_depenses_env,
fill = part_depenses_env)) +
geom_col(xlab = Pays, y= Part des dépenses environnementales dans le PIB)
graph1 <- graph1 + labs(title = "Les dépenses environnementales des pays Européens",
y = "Pays",
x = "Part des dépenses environnementales dans le PIB",
fill = NULL,
subtitle= "en points de PIB")
graph1
print(graph1)
graph2 <- ggplot(data = base_exploration,
mapping = aes(y=Nom_pays,
x = depenses_brutes_env,
fill = depenses_brutes_env)) +
geom_col()
graph2 <- graph2 + labs(title = "Les dépenses nationales pour la protection de l'environnement des pays Européens",
y = "Pays",
x = "NEEP brutes",
fill = NULL,
subtitle= "en million d'euros")
print(graph2)
graph3 <- ggplot(base_exploration, mapping = aes(x=sensi_env, y = perc_env)) + geom_point()
graph3
variable.names(base_complete)
graph3 <- ggplot(base_exploration, aes (x = conn_env, y = perc_env)) +
geom_point(color = "darkgreen", size = 3, alpha = 0.3) +
geom_smooth (method = "lm", size = 1, lty = 1, se = 2  )
graph3
cor3 <- cor(base_exploration$conn_env, base_exploration$perc_env, method= "spearman")
cor3
cor4 <- cor(base_exploration$conn_env, base_exploration$soutien_pol_env)
cor4
graph5 <- ggplot(base_exploration, aes (x = soutien_pol_env, y = perc_env)) +
geom_point(color = "darkgreen", size = 3, alpha = 0.3) +
geom_smooth (method = "lm", size = 1, lty = 1, se = 2  )
cor5 <- cor(base_exploration$soutien_pol_env, base_exploration$perc_env)
cor5
knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE)
## Packages ----
library(tidyverse)
library(ggforce)
library(sf)
library(haven)
library(FactoMineR)
library(ggrepel)
library(stargazer)
library(questionr)
#install.packages("remotes")
#remotes::install_github("easystats/easystats")
#install.packages("qqplotr")
library(qqplotr)
library("easystats")
#install.packages("ggraph")
library(ggraph)
library(dplyr)
library(see)
## Données -----
#setwd("C:/Users/quent/Desktop/ENS Paris-Saclay/1A/1S2/Econométrie/TDs/Bases de données/Documents")
setwd("~/Documents/ENS/econometrie/projet_r")
base_complete <- read.csv("base_complete.csv") %>%
select(-X) %>%
mutate(code2 = as.character(code2))
base_exploration <- base_complete %>%
select(-code2)
print(graph3)
graph3 -< graph3 + labs(title = "Lien entre la connaissance des problèmes environnementaux et leur perception",
graph3 <- graph3 + labs(title = "Lien entre la connaissance des problèmes environnementaux et leur perception",
y = "Perception environnementale",
x = "Connaissance environnementale",
fill = NULL,
subtitle = "D'après l'Europen Values Survey")
print(graph5)
graph5 <- ggplot(base_exploration, aes (x = perc_env, y = soutien_pol_env)) +
geom_point(color = "darkgreen", size = 3, alpha = 0.3) +
geom_smooth (method = "lm", size = 1, lty = 1, se = 2  )
print(graph5)
cor3 <- cor(base_exploration$conn_env, base_exploration$perc_env, method= "spearman")
cor3_bis <- cor(base_exploration$conn_env, base_exploration$perc_env, method= "pearson")
cor3
cor3_bis
cor3_bis <- cor(base_exploration$conn_env, base_exploration$perc_env)
cor3_bis
cor(base_complete$conn_env, base_complete$perc_env)
cor3 <- cor(base_exploration$conn_env, base_exploration$perc_env, method= "pearson")
cor4 <- cor(base_exploration$conn_env, base_exploration$soutien_pol_env)
cor5 <- cor(base_exploration$soutien_pol_env, base_exploration$perc_env)
cor3
cor4
cor5
variable.names(base_complete)
base_complete <- read.csv("base_complete.csv") %>%
select(-X) %>%
mutate(code2 = as.character(code2))
resultat_ACP     <- PCA(gini[, 3:9])
resultat_ACP     <- PCA(base_complete[, 3:9])
view(base_complete)
resultat_ACP     <- PCA(base_complete[, 5:13])
dbact            <-as_tibble(resultat_ACP$var$coord) %>%
mutate(names=c(rownames(resultat_ACP$var$coord)))
dbind            <-bind_cols(db,as_tibble(resultat_ACP$ind$coord))
dbind            <-bind_cols(dbact,as_tibble(resultat_ACP$ind$coord))
dbind            <-bind_cols(dbact,as_tibble(resultat_ACP$ind$coord))
resultat_classif <- HCPC(resultat_ACP, nb.clust = 4, graph = FALSE)
dbind <-bind_cols(dbact,as_tibble(resultat_ACP$ind$coord))
?bind_cols
dbind <-bind_cols(base_complete,as_tibble(resultat_ACP$ind$coord))
dbind            <- dbind %>%
ungroup() %>%
mutate(groupe = resultat_classif$data.clust$clust)
europe           <- st_read("Europe/europe.shp")
codes            <- read.csv("all.csv") %>%
filter(region == "Europe")%>%
select(name, alpha.2) %>%
mutate (NAME = name,
c_abrv = alpha.2)
carte_europe     <- europe %>%
full_join(codes, by = "NAME")
carte_europe     <- carte_europe %>%
full_join(dbind, by = "c_abrv")
carte_europe     <- carte_europe %>%
full_join(dbind, by = "c_abrv")
rlang::last_error()
view(carte_europe)
barplot(resultat_ACP$eig[,2],main="Figure I - Part expliquée par chaque axe dans la variance totale",
names.arg=1:nrow(resultat_ACP$eig),col= rainbow (15))
resultats_cor <- correlation(base_exploration)
print(resultats_cor)
print(resultats_cor)
summary(resultats_cor, redundant = TRUE)
graph3 <- ggplot(base_exploration, aes (x = conn_env, y = perc_env)) +
geom_point(color = "darkgreen", size = 3, alpha = 0.3) +
geom_smooth (method = "lm", size = 1, lty = 1, se = 2  )
graph3 <- graph3 + labs(title = "Lien entre la connaissance des problèmes environnementaux et leur perception",
y = "Perception environnementale",
x = "Connaissance environnementale",
fill = NULL,
subtitle = "D'après l'Europen Values Survey")
graph3 <- ggplot(base_exploration, aes (x = conn_env, y = perc_env)) +
geom_point(color = "darkgreen", size = 3, alpha = 0.3) +
geom_smooth (method = "lm", size = 1, lty = 1, se = 2  )
graph3 <- graph3 + labs(title = "Lien entre la connaissance des problèmes environnementaux et leur perception",
y = "Perception environnementale",
x = "Connaissance environnementale",
fill = NULL,
subtitle = "D'après l'Europen Values Survey")
graph3 <- ggplot(base_exploration, aes (x = conn_env, y = perc_env)) +
geom_point(color = "darkgreen", size = 3, alpha = 0.3) +
geom_smooth (method = "lm", size = 1, lty = 1, se = 2  )
graph3 <- graph3 + labs(title = "Lien entre la connaissance des problèmes environnementaux et leur perception",
y = "Perception environnementale",
x = "Connaissance environnementale",
fill = NULL,
subtitle = "D'après l'Europen Values Survey")
graph3 <- ggplot(base_exploration, aes (x = conn_env, y = perc_env)) +
geom_point(color = "darkgreen", size = 3, alpha = 0.3) +
geom_smooth (method = "lm", size = 1, lty = 1, se = 2  )
graph3 <- graph3 + labs(title = "Lien entre la connaissance des problèmes environnementaux et leur perception",
y = "Perception environnementale",
x = "Connaissance environnementale",
fill = NULL,
subtitle = "D'après l'Europen Values Survey")
graph3 <- ggplot(base_exploration, aes (x = conn_env, y = perc_env)) +
geom_point(color = "darkgreen", size = 3, alpha = 0.3) +
geom_smooth (method = "lm", size = 1, lty = 1, se = 2  )
graph3 <- graph3 + labs(title = "Lien entre la connaissance des problèmes environnementaux et leur perception",
y = "Perception environnementale",
x = "Connaissance environnementale",
fill = NULL,
subtitle = "D'après l'Europen Values Survey")
graph3 <- ggplot(base_exploration, aes (x = conn_env, y = perc_env)) +
geom_point(color = "darkgreen", size = 3, alpha = 0.3) +
geom_smooth (method = "lm", size = 1, lty = 1, se = 2  )
